# TweetListener2

Since the first cloud test resulted in failure, the causes of which were mostly bad performance, the setup was analyzed to determine where it can be improved.

## Possible problems

The performance of a single TweetListener application was not necessarily bad, however when scaled to 24 applications running in parallel, it was a problem when any one of them would use the entire CPU for some arbitrary operation such as writing to the console or to a file. Whenever this happened, Windows would offer the full CPU to that instance and all other instances would starve with a bunch of tweets in the queue. This meant that some games would get all the tweets but some others would get none, and there was no clear way of controlling this since it was an operating system issue.

A solution to that was to merge the applications to run in one process which would keep the various threads under control. This was done, and even though the process was not using full 100% of CPU anymore, hence no hardware crashes, the process was still not managing the threads and so on, therefore some of the games could still eat up the whole CPU and other threads would starve in the background - this was observed during gathering using a process monitor tool called [Process Monitor](https://technet.microsoft.com/en-us/sysinternals/bb896645.aspx), to which a filter was applied to see only the TweetListener2.exe messages -> the messages contained writing to a file "rawJsonBackup18.txt" every few seconds, but nothing to any other file, which raised the suspicion that the process the file belonged to was taking all the space from the others. After stopping the gathering for process 18 (which was Fallout 4, an AAA title to release on 10-11-2015), other processes quickly started writing to their files for a few seconds (which means that they were waiting all this time for someone to free up some resources for them to write their messages). However, the gathering ground to a halt again when the Back to the Future process starting being the only one to write to its file, which means that either there were no tweets about anything else, or that the other threads were not running properly.
